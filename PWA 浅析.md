#  PWA 浅析

##### [Essay](https://dixinl.github.io/Essay/)

## PWA 对标于 Native App

名词释义：

- Native App（原生态应用）是现在最主流的mobile端应用，它的安全，性能，用户体验的确明显领先于其他互联网载体。

- PWA 是 Progressive Web App 的英文缩写， 翻译过来就是渐进式增强 WEB 应用， 是 Google 在 2016 年提出的概念，2017 年落地的 web 技术。目的就是在移动端利用提供的标准化框架，在网页应用中实现和原生应用相近的用户体验的渐进式网页应用。

1. 可靠——即时加载，即使在不确定的网络条件下也不会受到影响。
   当用户从主屏幕启动时，service work可以立即加载渐进式Web应用程序，完全不受网络环境的影响。service work就像一个客户端代理，它控制缓存以及如何响应资源请求逻辑，通过预缓存关键资源，可以消除对网络的依赖，确保为用户提供即时可靠的体验。
2. 快速——据统计，如果站点加载时间超过 3s，53% 的用户会放弃等待。页面展现之后，用户期望有平滑的体验，过渡动画和快速响应。
3. 沉浸式体验—— 感觉就像设备上的原生应用程序，具有沉浸式的用户体验。
   渐进式Web应用程序可以安装并在用户的主屏幕上，无需从应用程序商店下载安装。他们提供了一个沉浸式的全屏幕体验，甚至可以重新与用户接触的Web推送通知。

PWA 并不单指某一项技术，它是一种概念，利用 Web 技术使网页实现类似于 App 一样的功能，提升其安全性，性能，流畅性，用户体验等各方面指标，最后使用户就像在用 App 一样的感觉。

### PWA中包含的核心功能及特性如下：

1. **Web App Manifest**
2. **Service Worker**
3. **Cache API 缓存**
4. **Push&Notification 推送与通知**
5. **Background Sync 后台同步**
6. **响应式设计**

## PWA 如何让 Web 页面看起来像一个 App

- 性能差异：PWA 使用 **App Shell** 架构，将网页缓存并在下次使用时对必要信息更新
- 离线使用：**Service Worker + HTTPS +Cache Api + indexedDB** 等一系列web技术实现离线加载和缓存
- 数据更新：**Background Sync** 后台同步技术
- 服务端推送：**Push&Notification** 实现推送与通知
- 桌面图标：通过 **manifest.json** 文件配置，使得可以直接添加到手机的桌面上。

## 前景

PWA 未来的发展不做讨论，不过在国内类似功能的产物——小程序的发展倒是很迅速，但这就不是技术层面的事了。它是市场、商业、社会多方面影响所诞生的结果。

## 参考

百度的 [LAVAS](https://lavas.baidu.com/pwa/README)，基于 Vue.js 的 PWA 解决方案