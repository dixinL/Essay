# 《区块链-解密 构建基于信用的下一代互联网》

##### [Essay](https://dixinl.github.io/Essay/)

#### 名词

| 中文                | 英文                 |
| ------------------- | -------------------- |
| 区块链              | Blockchain           |
| 分布式账本          | Decentralized Ledger |
| 智能合约            | Smart Contract       |
| 以太坊              | Etheruem             |
| 分布式自治组织      | DAOs                 |
| 分布式网络          | Distributed Network  |
| 非中心化            | Not Centralised      |
| 去中心化            | DE-Centralised       |
| 创世区块（0号区块） | Genesis Block        |

#### 释义

- 为什么是 ”非中心化“ 而不是 ”去中心化“ ？

  > - “去中心化” 表达的是一种 “分散式的” 含义，而 “非中心化” 的每个节点间仍然可以拥有 “迷你中心化” 。如果比特币挖矿在每个节点的计算能力都能够保持一致，那么没有哪一个节点会更具有优势，“迷你中心化” 也不会发生。这样我们就会有一种理想中的状态：分布式系统。
  > - “去中心化” 思想会给人们带来一种类似于 “无需治理” 的想法，但显然这是不正确的。即便是在一个完全分布式的系统中，仍然会由 “核心开发者” 来编写代码，然后由 “挖矿人” 来决定新的治理结构。但如果没有法律或明确的治理结构来约束，核心开发者会面对十分不明确的法律问题

### 技术原理

比特币网络通过随机哈希值为全部交易加上时间戳，将它们合并入一个不断延伸的、基于随机哈希值的工作量证明 （Proof of Work） 链条作为交易记录，除非重新完成全部的工作量证明，否则形成的交易记录将不可更改。
最长的链条不仅将被作为观察到的事件序列 （Sequence） 的证明，而且被看做是来自 CPU 计算能力最大的池 （Pool）。只要大多数的 CPU 计算能力都没有打算联合起来对全网进行攻击，那么诚实的节点将会生成最长的、超过击者的链条。

![1583199209590](D:\essay\Essay\images\1583199209590.png)

#### 拜占庭将军问题

关于拜占庭将军问题，一个简易的非正式描述如下：拜占庭帝国想要进攻一个强大的敌人，为此派出了 10 支军队去包围这个敌人。这个敌人虽不比拜占庭帝国强大，但也足以抵御 5 支常规拜占庭军队的同时袭击。基于一些原因，这 10 支军队不能集合在一起单点突破，必须在分开的包围状态下同时攻击。他们中的任意一支军队单独进攻都毫无胜算，除非有至少 6 支军队同时袭击才能攻下敌国。他们分散在敌国的四周，依靠通信兵相互通信来协商进攻意向及进攻时间。困扰拜占庭将军们的问题是，他们不确定军队内部是否有叛徒，而叛徒可能擅自变更进攻意向或者进攻时间。在这种状态下，拜占庭将军们能否找到一种分布式的协议来让他们能够远程协商，从而赢取战斗？

如果每支军队向其他9支军队各派出一名信使，那么就是 10 支军队每支派出了 9 名信使，也就是在任何一个时间有总计 90 次的信息传输。每支军队将分别收到 9 封信，每一封信可能写着不同的进攻时间。此外，部分军队会答应超过一个的攻击时间，故意背叛发起人，因此他们将重新广播超过一条的信息链。这使得整个系统迅速变质成不可信的信息和攻击时间相互矛盾的纠结体。

比特币通过对这个系统做一个简单的修改并解决了这个问题，它为发送信息加人了成本，这降低了信息传递的速率，并加人了一个随机元素以保证在同一个时间只有一支军队可以进行广播。它加人的成本是 “工作量证明” ，这是基于计算一个随机哈希的算法。

#### 交易

![1583198028315](D:\essay\Essay\images\1583198028315.png)

#### 区块

#### 时间戳

![1583198116749](D:\essay\Essay\images\1583198116749.png)

#### 双花问题

加密数字货币和其他数字资产一样，具有无限可复制性的缺陷，例如同一个文件可以通过附件的形式保存并发送任意多次。如果没有一个中心化的机构，人们无法确认一笔数字现金或资产是否已经被花掉或提取。为了解决 “双花” 问题，可以通过可信赖的第三方机构保留交易总账，从而保证每笔现金或资产只被花费或提取过一次。在区块链中，每一个区块都包含了上一个区块的哈希值，从创始区块开始链接到当前区块，从而形成块链。每一个区块都要确保按照时间顺序在上个区块之后产生，否则前一个区块的哈希值是未知的。同时，由于区块链中所有交易都要进行对外广播，所以只有当包含在最新区块中的所有交易都是独一无二且之前从未发生过，其他节点才会认可该区块。因此在区块链中，要想“双花”会非常困难。

#### 工作量证明

![1583301916860](D:\essay\Essay\images\1583301916860.png)

#### 激励

#### 回收硬盘空间

如果最近的交易已经被纳人了足够多的区块之中，那么就可以丢弃该交易之前的数据，以回收硬盘空间。为了同时确保不损害区块的随机哈希值，交易信息被随机哈希运算时，构建成一种梅克尔树（MerkleTree）的形态，使得只有树根被纳人区块的随机哈希值，如图所示。通过将该树的分支拔除的方法，老区块就能被压缩，而该树内部的随机哈希值是不必保存的。

![1583300746163](D:\essay\Essay\images\1583300746163.png)
